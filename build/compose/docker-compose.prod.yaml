services:
    cifralabs.students.api:
        image: cifralabs.students.api:prod
        container_name: students.api.prod
        environment:
            - 'ASPNETCORE_URLS=http://+'
            - TZ=Europe/Moscow
            - DBServer=cifralabs.postgres.prod
            - DBPort=5432
            - DBName=cifralabs_studentDB
            - DBLogin=cifralabs_studentDB_Service
            - 'DBPassword=P@ssw0rd!'
            - ASPNETCORE_ENVIRONMENT=Development
        networks:
            - main
        ports:
            - '8001:80'
        
    cifralabs.students.front:
        image: cifralabs.students.front:prod
        container_name: cifralabs.students.front.prod
        networks:
            - main
        ports:
            - '3000:3000'

    cifralabs.postgres:
        container_name: cifralabs.postgres.prod
        networks:
            - main
        ports:
            - '5432:5432'
        volumes:
            - ./pgdata:/data/postgres
            
networks:
    main: