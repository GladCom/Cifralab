services:
    cifralabs.students.api:
        image: cifralabs.students.api:latest
        container_name: students.api
        environment:
            - 'ASPNETCORE_URLS=http://+'
            - TZ=Europe/Moscow
            - DBServer=cifralabs.postgres
            - DBPort=5432
            - DBName=cifralabs_studentDB
            - DBLogin=cifralabs_studentDB_Service
            - 'DBPassword=P@ssw0rd!'
            - ASPNETCORE_ENVIRONMENT=Development
        networks:
            - main
        ports:
            - '80:80'
        
    cifralabs.students.front:
        image: cifralabs.students.front:latest
        container_name: cifralabs.students.front
        networks:
            - main
        ports:
            - '2056:3000'

    cifralabs.postgres:
        container_name: cifralabs.postgres
        networks:
            - main
        ports:
            - '5432:5432'
        volumes:
            - ./pgdata:/data/postgres
            
networks:
    main: